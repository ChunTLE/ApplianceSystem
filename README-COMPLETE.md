# 家电库存管理系统 - 完整功能说明

## 系统概述

本系统实现了完整的权限管理功能，包含三种角色：管理员、库存人员、销售人员。

## 功能模块

### 1. 管理员功能

#### 用户管理
- 查看所有用户列表
- 新增用户
- 编辑用户信息
- 删除用户
- 用户角色分配（管理员/库存人员/销售人员）

#### 产品类型管理
- 查看所有产品类型
- 新增产品类型
- 编辑产品类型
- 删除产品类型

#### 产品管理
- 查看所有产品列表
- 查看产品详情
- 产品信息管理

#### 统计管理
- 入库统计（按日期）
- 出库统计（按日期）
- 销售统计（按日期）
- 销售统计（按产品）
- 报表导出（CSV格式）

### 2. 库存人员功能

#### 入库管理
- 产品入库操作
- 自动增加产品库存
- 记录入库信息

#### 出库管理
- 产品出库操作
- 自动减少产品库存
- 库存不足预警
- 记录出库信息

#### 产品查询
- 按产品名称查询
- 按产品类型查询
- 查看产品详细信息（价格、库存、状态等）

### 3. 销售人员功能

#### 销售管理
- 产品销售操作
- 自动减少产品库存
- 计算销售总价
- 记录销售信息

#### 产品查询
- 按产品名称查询
- 按产品类型查询
- 查看产品详细信息（价格、库存、状态等）

### 4. 通用功能

#### 库存预警
- 低库存预警（库存≤阈值）
- 缺货预警（库存=0）
- 预警列表展示

#### 用户认证
- 用户登录
- JWT Token认证
- 权限拦截
- 自动登出

## 技术架构

### 后端技术栈
- Spring Boot 3.4.1
- MyBatis Plus 3.5.12
- MySQL 8.0.33
- JWT (JJWT 0.11.5)
- Swagger/OpenAPI 2.8.5

### 前端技术栈
- Vue 3.5.25
- TypeScript 5.9.0
- Element Plus 2.13.0
- Vue Router 4.6.3
- Pinia 3.0.4
- Axios 1.13.2
- Vite 7.2.4

## 数据库初始化

1. 执行 `database/init.sql` 脚本初始化数据库
2. 默认用户账号：
   - 管理员：admin / 123456
   - 库存人员：stock / 123456
   - 销售人员：sales / 123456

## 启动说明

### 后端启动
```bash
cd ApplianceSystem
mvn spring-boot:run
```
后端服务运行在：http://localhost:8080

### 前端启动
```bash
cd ApplianceSystem-ui
npm install
npm run dev
```
前端服务运行在：http://localhost:80

## API文档

启动后端服务后，访问：http://localhost:8080/swagger-ui.html

## 权限说明

### 角色代码
- ADMIN: 管理员
- STOCK: 库存人员
- SALES: 销售人员

### 权限控制
- 前端路由权限控制
- 后端接口权限拦截
- JWT Token验证

## 注意事项

1. 确保MySQL服务已启动
2. 确保数据库连接配置正确（application.yml）
3. 首次运行需要执行数据库初始化脚本
4. 密码目前为明文存储，生产环境建议使用BCrypt加密

## 文件结构

### 后端主要文件
- `controller/` - 控制器层
- `service/` - 服务层
- `mapper/` - 数据访问层
- `entity/` - 实体类
- `config/` - 配置类（JWT拦截器、Web配置）
- `exception/` - 异常处理
- `util/` - 工具类

### 前端主要文件
- `views/` - 页面组件
- `api/` - API接口定义
- `stores/` - 状态管理
- `router/` - 路由配置
- `layout/` - 布局组件
- `utils/` - 工具函数

## 功能完成度

✅ 用户认证和权限管理
✅ 三种角色的功能实现
✅ 产品类型管理
✅ 产品管理
✅ 入库/出库管理
✅ 销售管理
✅ 产品查询（按名称、类型）
✅ 统计功能（入库、出库、销售）
✅ 库存预警
✅ 报表导出
✅ 前端权限路由控制
✅ 后端权限拦截

## 后续优化建议

1. 密码加密（BCrypt）
2. 添加图表可视化（ECharts）
3. 分页功能
4. 数据校验增强
5. 日志记录
6. 操作审计

